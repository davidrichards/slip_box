---

title: Indexes

keywords: fastai
sidebar: home_sidebar

summary: "to_filename("Something Interesting", index="2.b.13")"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: nbs/00.00.indexes.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
    
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Use-the-Alphabet">Use the Alphabet<a class="anchor-link" href="#Use-the-Alphabet">&#182;</a></h2><p>A deep index can get confusing. 1.1.1.1.1.2 makes it easy to forget or add a 1. Instead, I use 1.a.1.a.1.2. I can still make a mistake, but I make fewer mistakes.</p>
<p>This is the principle, and I'll swear by it until my last breath: do one thing. Do one thing at a time. Don't try and remember things, do math, think about the note I'm creating, think about whether it will be useful for something, or whatever. The better I am at focusing, the more effective my work.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="integer_to_alpha" class="doc_header"><code>integer_to_alpha</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L13" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>integer_to_alpha</code>(<strong><code>n</code></strong>, <strong><code>alphabet</code></strong>=<em><code>['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</code></em>)</p>
</blockquote>
<p>Convert numbers &gt; 0 to alphabetic representations.
For the regular alphabet, 1 == a, 26==z, 27==aa,
52 == az, etc.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="letter_to_value" class="doc_header"><code>letter_to_value</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L36" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>letter_to_value</code>(<strong><code>letter</code></strong>, <strong><code>alphabet</code></strong>=<em><code>['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</code></em>)</p>
</blockquote>
<p>Where does this letter fall in this alphabet?</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="alpha_to_integer" class="doc_header"><code>alpha_to_integer</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L41" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>alpha_to_integer</code>(<strong><code>string</code></strong>, <strong><code>alphabet</code></strong>=<em><code>['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</code></em>)</p>
</blockquote>
<p>Convert a string to an integer</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">short</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">integer_to_alpha</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;a&#39;</span>
<span class="k">assert</span> <span class="n">integer_to_alpha</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;b&#39;</span>
<span class="k">assert</span> <span class="n">integer_to_alpha</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;c&#39;</span>
<span class="k">assert</span> <span class="n">integer_to_alpha</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;aa&#39;</span>
<span class="k">assert</span> <span class="n">integer_to_alpha</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;ba&#39;</span>

<span class="k">assert</span> <span class="n">letter_to_value</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<span class="k">assert</span> <span class="n">letter_to_value</span><span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="k">assert</span> <span class="n">letter_to_value</span><span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span>
<span class="k">assert</span> <span class="n">letter_to_value</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
<span class="k">assert</span> <span class="n">letter_to_value</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

<span class="c1"># From 1 to a large number, if I convert the integer</span>
<span class="c1"># to an alpha, then convert it back, it matches.</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">):</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="n">integer_to_alpha</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">alpha_to_integer</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="n">short</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">i</span> <span class="o">==</span> <span class="n">result</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Making-Sense">Making Sense<a class="anchor-link" href="#Making-Sense">&#182;</a></h3><p>So, combining alphabets, but starting at 1 is useful for indexing. I'm not feeling confident that 1 == a is the place to start. Number systems usually find zero and negative numbers useful. This is a practical system, for indexing, and I'm not sure I know what 0 index in the sense of finding a note means, and I'm sure I don't need to do that.</p>
<p>Also, I like that I'm using the approach that Niklas Luhmann (1927-1998) orginally used. He had notecards in a box, I have notes in a directory. We both use this sort of indexing.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Increment-Indexes">Increment Indexes<a class="anchor-link" href="#Increment-Indexes">&#182;</a></h2><p>I index so I know where to stick the next slip.</p>
<p>1 becomes 2, 1.a becomes 1.b when we're just appending the next slip to the tree. This is next_index.</p>
<p>If I'm adding a slip that qualifies, challenges, or clarifies an idea, I often like to make it a child. So, a slip about the age of the Sphynx might be about the standard Egyptologists saying it was first constructed around 2,500 BC. If I wanted to use notes from Robert Schoch, the geologist, I'd add a child note that he claims they were built before 9,700 BC. So, the first note could be 3.c.2 and the second 3.c.2.a.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="is_integer" class="doc_header"><code>is_integer</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L55" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>is_integer</code>(<strong><code>o</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="validate_index" class="doc_header"><code>validate_index</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L61" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>validate_index</code>(<strong><code>current</code></strong>, <strong><code>separator</code></strong>=<em><code>'.'</code></em>, <strong>**<code>kw</code></strong>)</p>
</blockquote>
<p>Ensure the index can be iterated.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="next_index" class="doc_header"><code>next_index</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L68" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>next_index</code>(<strong><code>current</code></strong>, <strong><code>separator</code></strong>=<em><code>'.'</code></em>, <strong><code>default</code></strong>=<em><code>'1'</code></em>, <strong><code>alphabet</code></strong>=<em><code>['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</code></em>, <strong>**<code>kw</code></strong>)</p>
</blockquote>
<p>Get the next value for an index.
None returns '1', '' returns '1',
1.a returns 1.b, etc.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="next_child" class="doc_header"><code>next_child</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L92" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>next_child</code>(<strong><code>current</code></strong>, <strong><code>separator</code></strong>=<em><code>'.'</code></em>, <strong><code>default</code></strong>=<em><code>'1'</code></em>, <strong><code>alphabet</code></strong>=<em><code>['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']</code></em>, <strong>**<code>kw</code></strong>)</p>
</blockquote>
<p>Get the next child for an index.
None returns '1', '' returns '1',
1.a returns 1.a.1, 2 returns 2.a.</p>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;-1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;42&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;1.a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1.b&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;42.zsa.13&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;42.zsa.14&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;2|b|3&#39;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;2|b|4&#39;</span>

<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;foo&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;foo&quot;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="s1">&#39;-1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;-1.a&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="mi">41</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;41.a&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="mi">41</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;bcd&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="s1">&#39;41.b&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="s1">&#39;1.a&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1.a.1&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="s1">&#39;42.zsa&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;42.zsa.1&#39;</span>
<span class="k">assert</span> <span class="n">next_child</span><span class="p">(</span><span class="s1">&#39;2|b|3&#39;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;2|b|3|a&#39;</span>
<span class="k">assert</span> <span class="n">next_index</span><span class="p">(</span><span class="s1">&#39;1.abc&#39;</span><span class="p">,</span> <span class="n">alphabet</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">))</span> <span class="o">==</span> <span class="s1">&#39;1.aca&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Making-Sense">Making Sense<a class="anchor-link" href="#Making-Sense">&#182;</a></h3><p>So, next_index and next_child are working as I'd expect. This version of the code is a <strong>LOT</strong> cleaner than the version I'm replacing. The other system used 20-30 functions and there were bugs in there I didn't have the patience to find.</p>
<p>I like the idea that most of these functions take a fairly robust set of parameters, so I can use a different alphabet or separator.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Filenames">Filenames<a class="anchor-link" href="#Filenames">&#182;</a></h2><p>For simplicity, I'm replacing shell whitespace characters with underscores, by default, but not dealing with other problematic input. I may just white list filenames later.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">

</div>
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="to_filename" class="doc_header"><code>to_filename</code><a href="https://github.com/davidrichards/slip_box/tree/master/slip_box/indexes.py#L110" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>to_filename</code>(<strong><code>s</code></strong>, <strong><code>reference</code></strong>=<em><code>None</code></em>, <strong><code>index</code></strong>=<em><code>None</code></em>, <strong><code>child</code></strong>=<em><code>False</code></em>, <strong><code>separator</code></strong>=<em><code>'.'</code></em>, <strong><code>suffix</code></strong>=<em><code>'md'</code></em>, <strong>**<code>kw</code></strong>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;abc 123&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1.abc.123.md&#39;</span>
<span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;  ABC   123   &#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1.abc.123.md&#39;</span>
<span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;abc 123&#39;</span><span class="p">,</span> <span class="n">separator</span><span class="o">=</span><span class="s1">&#39;|&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1|abc|123.md&#39;</span>
<span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;abc 123&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="s1">&#39;2.b.1&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;2.b.1.abc.123.md&#39;</span>
<span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;abc 123&#39;</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="s1">&#39;2.b&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;2.c.abc.123.md&#39;</span>
<span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;abc 123&#39;</span><span class="p">,</span> <span class="n">reference</span><span class="o">=</span><span class="s1">&#39;2.b&#39;</span><span class="p">,</span> <span class="n">child</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;2.b.1.abc.123.md&#39;</span>
<span class="k">assert</span> <span class="n">to_filename</span><span class="p">(</span><span class="s1">&#39;abc 123&#39;</span><span class="p">,</span> <span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;markdown&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;1.abc.123.markdown&#39;</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Making-Sense">Making Sense<a class="anchor-link" href="#Making-Sense">&#182;</a></h3><p>The idea is that titles and indexes combine to make filenames. I think I've captured a reasonable set of defaults.</p>
<p>This doesn't mean a filename will work with a POSIX operating system, on S3, or anyplace. It just means that an idea can be easily converted to a filename if I remember how I'm using this information.</p>

</div>
</div>
</div>
</div>
 

